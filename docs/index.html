<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2024-03-01 Fri 15:48 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>clisuite Documentation</title>
<meta name="author" content="Mitchell" />
<meta name="generator" content="Org Mode" />
<style>
  #content { max-width: 60em; margin: auto; }
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #e6e6e6;
    border-radius: 3px;
    background-color: #f2f2f2;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: auto;
  }
  pre.src:before {
    display: none;
    position: absolute;
    top: -8px;
    right: 12px;
    padding: 3px;
    color: #555;
    background-color: #f2f2f299;
  }
  pre.src:hover:before { display: inline; margin-top: 14px;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-authinfo::before { content: 'Authinfo'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .equation-container {
    display: table;
    text-align: center;
    width: 100%;
  }
  .equation {
    vertical-align: middle;
  }
  .equation-label {
    display: table-cell;
    text-align: right;
    vertical-align: middle;
  }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { }
</style>
<link rel="stylesheet" type="text/css" href="clisuite.css"/>
<style type="text/css">
 pre.src {background-color: #242424; color: #f6f3e8;}</style>
<style type="text/css">
 pre.src {background-color: #242424; color: #f6f3e8;}</style>
<style type="text/css">
 pre.src {background-color: #242424; color: #f6f3e8;}</style>
<style type="text/css">
 pre.src {background-color: #242424; color: #f6f3e8;}</style>
<style type="text/css">
 pre.src {background-color: #242424; color: #f6f3e8;}</style>
<style type="text/css">
 pre.src {background-color: #242424; color: #f6f3e8;}</style>
<style type="text/css">
 pre.src {background-color: #242424; color: #f6f3e8;}</style>
<style type="text/css">
 pre.src {background-color: #242424; color: #f6f3e8;}</style>
<style type="text/css">
 pre.src {background-color: #242424; color: #f6f3e8;}</style>
<style type="text/css">
 pre.src {background-color: #242424; color: #f6f3e8;}</style>
<style type="text/css">
 pre.src {background-color: #242424; color: #f6f3e8;}</style>
<style type="text/css">
 pre.src {background-color: #242424; color: #f6f3e8;}</style>
<style type="text/css">
 pre.src {background-color: #242424; color: #f6f3e8;}</style>
<style type="text/css">
 pre.src {background-color: #242424; color: #f6f3e8;}</style>
<style type="text/css">
 pre.src {background-color: #242424; color: #f6f3e8;}</style>
<style type="text/css">
 pre.src {background-color: #242424; color: #f6f3e8;}</style>
<style type="text/css">
 pre.src {background-color: #242424; color: #f6f3e8;}</style>
<style type="text/css">
 pre.src {background-color: #242424; color: #f6f3e8;}</style>
<style type="text/css">
 pre.src {background-color: #242424; color: #f6f3e8;}</style>
<style type="text/css">
 pre.src {background-color: #242424; color: #f6f3e8;}</style>
<style type="text/css">
 pre.src {background-color: #242424; color: #f6f3e8;}</style>
<style type="text/css">
 pre.src {background-color: #242424; color: #f6f3e8;}</style>
<style type="text/css">
 pre.src {background-color: #242424; color: #f6f3e8;}</style>
<style type="text/css">
 pre.src {background-color: #242424; color: #f6f3e8;}</style>
<style type="text/css">
 pre.src {background-color: #242424; color: #f6f3e8;}</style>
<style type="text/css">
 pre.src {background-color: #242424; color: #f6f3e8;}</style>
<style type="text/css">
 pre.src {background-color: #242424; color: #f6f3e8;}</style>
<style type="text/css">
 pre.src {background-color: #242424; color: #f6f3e8;}</style>
<style type="text/css">
 pre.src {background-color: #242424; color: #f6f3e8;}</style>
<style type="text/css">
 pre.src {background-color: #242424; color: #f6f3e8;}</style>
<style type="text/css">
 pre.src {background-color: #242424; color: #f6f3e8;}</style>
</head>
<body>
<div id="content" class="content">
<h1 class="title">clisuite Documentation</h1>
<div id="table-of-contents" role="doc-toc">
<h2>Table of Contents</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="#orgc440a3f">1. Index</a>
<ul>
<li><a href="#org1c2f4e1">1.1. GitHub repo / README: https://github.com/mitchellirmer/clisuite</a></li>
</ul>
</li>
<li><a href="#org2323f8c">2. Metube</a>
<ul>
<li><a href="#org66dfd4a">2.1. Source Code</a>
<ul>
<li><a href="#org1202509">2.1.1. Header stuff</a></li>
<li><a href="#org1ca3aa1">2.1.2. Set up an internal path variable</a></li>
<li><a href="#org356168c">2.1.3. Help menu</a></li>
<li><a href="#org0a33cf3">2.1.4. Main program</a></li>
</ul>
</li>
<li><a href="#org8b068ca">2.2. License</a>
<ul>
<li><a href="#org3378efb">2.2.1. GPL</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#orga58d327">3. Speckify</a>
<ul>
<li><a href="#org1b0ed38">3.1. Source Code</a>
<ul>
<li><a href="#org3bd9717">3.1.1. Header stuff</a></li>
<li><a href="#org453eba3">3.1.2. Set up an internal path variable</a></li>
<li><a href="#org475fda6">3.1.3. Help menu</a></li>
<li><a href="#org8c88f15">3.1.4. Main program</a></li>
</ul>
</li>
<li><a href="#org3529a1f">3.2. License</a>
<ul>
<li><a href="#org1492152">3.2.1. GPL</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#org41cda59">4. Readmode</a>
<ul>
<li><a href="#org39ec561">4.1. Source code</a>
<ul>
<li><a href="#org7f99eab">4.1.1. Header stuff</a></li>
<li><a href="#org4d81243">4.1.2. Internal path for temp files</a></li>
<li><a href="#org10e05e8">4.1.3. Main program</a></li>
</ul>
</li>
<li><a href="#orgebac8aa">4.2. License</a></li>
</ul>
</li>
<li><a href="#org3e6e93d">5. Dependencies</a>
<ul>
<li>
<ul>
<li><a href="#org53e332f">5.0.1. MPV</a></li>
<li><a href="#org56a3a42">5.0.2. yt-dlp</a></li>
<li><a href="#orgbb0a2a7">5.0.3. readability</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#org9f84c8a">6. Generate README.md</a>
<ul>
<li><a href="#orgf183747">6.1. README.md</a></li>
</ul>
</li>
</ul>
</div>
</div>

<div id="outline-container-orgc440a3f" class="outline-2">
<h2 id="orgc440a3f"><span class="section-number-2">1.</span> Index</h2>
<div class="outline-text-2" id="text-1">
</div>
<div id="outline-container-org1c2f4e1" class="outline-3">
<h3 id="org1c2f4e1"><span class="section-number-3">1.1.</span> GitHub repo / README: <a href="https://github.com/mitchellirmer/clisuite">https://github.com/mitchellirmer/clisuite</a></h3>
</div>
</div>
<div id="outline-container-org2323f8c" class="outline-2">
<h2 id="org2323f8c"><span class="section-number-2">2.</span> Metube</h2>
<div class="outline-text-2" id="text-2">
<p>
Use this to stream music or videos from the internet, especially Youtube.  Has a function to search Youtube via yt-dlp.  Built on mpv, yt-dlp, sed, grep.
</p>
</div>

<div id="outline-container-org66dfd4a" class="outline-3">
<h3 id="org66dfd4a"><span class="section-number-3">2.1.</span> Source Code</h3>
<div class="outline-text-3" id="text-2-1">
</div>
<div id="outline-container-org1202509" class="outline-4">
<h4 id="org1202509"><span class="section-number-4">2.1.1.</span> Header stuff</h4>
<div class="outline-text-4" id="text-2-1-1">
<p>
I put these lines in my scripts so that I can grep the := to be reminded of what my scripts do.
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #8892A4;"># </span><span style="color: #99968b;">YouTube Search</span>
<span style="color: #8892A4;"># </span><span style="color: #99968b;">:= CLI for searching YouTube.</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org1ca3aa1" class="outline-4">
<h4 id="org1ca3aa1"><span class="section-number-4">2.1.2.</span> Set up an internal path variable</h4>
<div class="outline-text-4" id="text-2-1-2">
<p>
This will be used to integrate speckify with metube and handle temp files generated while using this script.
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #cae682;">path</span>=<span style="color: #95e454;">"$HOME/.clisuite/metube/"</span>
<span style="color: #cae682;">pl_loc</span>=<span style="color: #95e454;">"$HOME/Music/Stream/Playlists/"</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org356168c" class="outline-4">
<h4 id="org356168c"><span class="section-number-4">2.1.3.</span> Help menu</h4>
<div class="outline-text-4" id="text-2-1-3">
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #cae682;">printHelp</span>(){
    <span style="color: #e5786d;">echo</span> <span style="color: #95e454;">"========METUBE HELP=========="</span>
    <span style="color: #e5786d;">echo</span> <span style="color: #95e454;">"metube &lt;option&gt; &lt;argument(s)&gt;"</span>
    <span style="color: #e5786d;">echo</span> <span style="color: #95e454;">"EXAMPLE:  metube search \"nebraska football\" 5"</span>
    <span style="color: #e5786d;">echo</span> <span style="color: #95e454;">"1)  &lt; -s or search&gt;  &lt;\"search terms\"&gt;               &lt;number of desired search results&gt;"</span>
    <span style="color: #e5786d;">echo</span> <span style="color: #95e454;">"2)  &lt; -d or desc&gt;    &lt;line number of video title&gt;"</span>
    <span style="color: #e5786d;">echo</span> <span style="color: #95e454;">"3)  &lt; -p or play&gt;    &lt;line number of video title&gt;"</span>
    <span style="color: #e5786d;">echo</span> <span style="color: #95e454;">"4)  &lt; -a or add&gt;     &lt;line number of video title&gt;   &lt;\"Playlist_Title\"&gt;"</span>
    <span style="color: #e5786d;">echo</span> <span style="color: #95e454;">"5)  &lt; -c or copy&gt;    &lt;YouTube playlist URL&gt;         &lt;\"Local Title\"&gt;"</span>
    <span style="color: #e5786d;">echo</span> <span style="color: #95e454;">"6)  &lt; -e or export&gt;  &lt;\"Playlist_Title\"&gt;"</span>
    <span style="color: #e5786d;">echo</span> <span style="color: #95e454;">"=============================="</span>
}
</pre>
</div>
</div>
</div>

<div id="outline-container-org0a33cf3" class="outline-4">
<h4 id="org0a33cf3"><span class="section-number-4">2.1.4.</span> Main program</h4>
<div class="outline-text-4" id="text-2-1-4">
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #8ac6f2; font-weight: bold;">if</span> [ -z <span style="color: #95e454;">"$1"</span> ]; <span style="color: #8ac6f2; font-weight: bold;">then</span>
    printHelp
<span style="color: #8ac6f2; font-weight: bold;">elif</span> [ $<span style="color: #cae682;">1</span> == <span style="color: #95e454;">"-s"</span> ] || [ $<span style="color: #cae682;">1</span> == <span style="color: #95e454;">"search"</span> ]; <span style="color: #8ac6f2; font-weight: bold;">then</span>
    rm ${<span style="color: #cae682;">path</span>}ytreturn.txt
    yt-dlp --print title --print uploader --print webpage_url <span style="color: #95e454;">"ytsearch$3:$2"</span> &gt; ${<span style="color: #cae682;">path</span>}ytreturn.txt
    cat -n ${<span style="color: #cae682;">path</span>}ytreturn.txt
<span style="color: #8ac6f2; font-weight: bold;">elif</span> [ $<span style="color: #cae682;">1</span> == <span style="color: #95e454;">"-d"</span> ] || [ $<span style="color: #cae682;">1</span> == <span style="color: #95e454;">"desc"</span> ]; <span style="color: #8ac6f2; font-weight: bold;">then</span>
    <span style="color: #e5786d;">declare</span> <span style="color: #cae682;">line</span>=$<span style="color: #cae682;">2</span>
    <span style="color: #cae682;">line</span>=$((${<span style="color: #cae682;">line</span>} + 2))
    <span style="color: #cae682;">line</span>=<span style="color: #95e454;">"${line}p"</span>
    <span style="color: #cae682;">track</span>=$(sed -n $<span style="color: #cae682;">line</span> ${<span style="color: #cae682;">path</span>}ytreturn.txt)
    yt-dlp --print title --print uploader --print upload_date --print webpage_url --print description $<span style="color: #cae682;">track</span>
<span style="color: #8ac6f2; font-weight: bold;">elif</span> [ $<span style="color: #cae682;">1</span> == <span style="color: #95e454;">"-p"</span> ] || [ $<span style="color: #cae682;">1</span> == <span style="color: #95e454;">"play"</span> ]; <span style="color: #8ac6f2; font-weight: bold;">then</span>
    <span style="color: #e5786d;">declare</span> <span style="color: #cae682;">line</span>=$<span style="color: #cae682;">2</span>
    <span style="color: #cae682;">line</span>=$((${<span style="color: #cae682;">line</span>} + 2))
    <span style="color: #cae682;">line</span>=<span style="color: #95e454;">"${line}p"</span>
    <span style="color: #cae682;">track</span>=$(sed -n $<span style="color: #cae682;">line</span> ${<span style="color: #cae682;">path</span>}ytreturn.txt)
    mpv $<span style="color: #cae682;">track</span>
<span style="color: #8ac6f2; font-weight: bold;">elif</span> ( [ $<span style="color: #cae682;">1</span> == <span style="color: #95e454;">"-a"</span> ] || [ $<span style="color: #cae682;">1</span> == <span style="color: #95e454;">"add"</span> ] ) &amp;&amp; [[ <span style="color: #81a1c1;">!</span> -z <span style="color: #95e454;">"$3"</span> ]]; <span style="color: #8ac6f2; font-weight: bold;">then</span>
    <span style="color: #e5786d;">declare</span> <span style="color: #cae682;">line</span>=$<span style="color: #cae682;">2</span>
    <span style="color: #cae682;">address</span>=$((${<span style="color: #cae682;">line</span>} + 2))
    <span style="color: #cae682;">line</span>=<span style="color: #95e454;">"${line}p"</span>
    <span style="color: #cae682;">address</span>=<span style="color: #95e454;">"${address}p"</span>
    <span style="color: #cae682;">track</span>=$(sed -n $<span style="color: #cae682;">line</span> ${<span style="color: #cae682;">path</span>}ytreturn.txt)
    <span style="color: #cae682;">url</span>=$(sed -n $<span style="color: #cae682;">address</span> ${<span style="color: #cae682;">path</span>}ytreturn.txt)
    <span style="color: #e5786d;">echo</span> $<span style="color: #cae682;">track</span> &gt; ${<span style="color: #cae682;">path</span>}tmptitle.txt
    <span style="color: #e5786d;">echo</span> $<span style="color: #cae682;">url</span> &gt; ${<span style="color: #cae682;">path</span>}tmpurl.txt
    paste ${<span style="color: #cae682;">path</span>}tmpurl.txt ${<span style="color: #cae682;">path</span>}tmptitle.txt &gt;&gt; ${<span style="color: #cae682;">path</span>}${<span style="color: #cae682;">3</span>}.m3u
    rm ${<span style="color: #cae682;">path</span>}tmptitle.txt ${<span style="color: #cae682;">path</span>}tmpurl.txt
<span style="color: #8ac6f2; font-weight: bold;">elif</span> [ $<span style="color: #cae682;">1</span> == <span style="color: #95e454;">"-c"</span> ] || [ $<span style="color: #cae682;">1</span> == <span style="color: #95e454;">"copy"</span> ]; <span style="color: #8ac6f2; font-weight: bold;">then</span>
    <span style="color: #cae682;">id</span>=<span style="color: #95e454;">"$(echo $2 | cut -f2- -d=)"</span>
    <span style="color: #cae682;">prefix</span>=<span style="color: #95e454;">'https://www.youtube.com/playlist?list='</span>
    <span style="color: #cae682;">fullurl</span>=<span style="color: #95e454;">"${prefix}${id}"</span>
    yt-dlp --print title --print webpage_url <span style="color: #95e454;">"$fullurl"</span> &gt; tempfile
    grep -e <span style="color: #95e454;">"http"</span> tempfile &gt; urls
    grep -v <span style="color: #95e454;">"http"</span> tempfile &gt; titles
    paste urls titles &gt; <span style="color: #95e454;">"$3"</span>.m3u
    rm tempfile; rm urls; rm titles
<span style="color: #8ac6f2; font-weight: bold;">elif</span> [ $<span style="color: #cae682;">1</span> == <span style="color: #95e454;">"-e"</span> ] || [ $<span style="color: #cae682;">1</span> == <span style="color: #95e454;">"export"</span> ]; <span style="color: #8ac6f2; font-weight: bold;">then</span>
    cp -v -i ${<span style="color: #cae682;">path</span>}${<span style="color: #cae682;">2</span>}.m3u ${<span style="color: #cae682;">pl_loc</span>}${<span style="color: #cae682;">2</span>}.m3u
<span style="color: #8ac6f2; font-weight: bold;">else</span>
    printHelp
<span style="color: #8ac6f2; font-weight: bold;">fi</span>
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-org8b068ca" class="outline-3">
<h3 id="org8b068ca"><span class="section-number-3">2.2.</span> License</h3>
<div class="outline-text-3" id="text-2-2">
</div>
<div id="outline-container-org3378efb" class="outline-4">
<h4 id="org3378efb"><span class="section-number-4">2.2.1.</span> GPL</h4>
<div class="outline-text-4" id="text-2-2-1">
<p target="_blank">
A copy of the license is <a href="Licenses/LICENSE.md" target="_blank">here</a>.
</p>
</div>
</div>
</div>
</div>
<div id="outline-container-orga58d327" class="outline-2">
<h2 id="orga58d327"><span class="section-number-2">3.</span> Speckify</h2>
<div class="outline-text-2" id="text-3">
<p>
Use this to stream music from the internet or from playlist files containing file locations or URLs.  Built on mpv, ytdlp, sed, grep.
</p>
</div>

<div id="outline-container-org1b0ed38" class="outline-3">
<h3 id="org1b0ed38"><span class="section-number-3">3.1.</span> Source Code</h3>
<div class="outline-text-3" id="text-3-1">
</div>
<div id="outline-container-org3bd9717" class="outline-4">
<h4 id="org3bd9717"><span class="section-number-4">3.1.1.</span> Header stuff</h4>
<div class="outline-text-4" id="text-3-1-1">
<p>
I put these lines in my scripts so that I can grep the := to be reminded of what my scripts do.
</p>

<div class="org-src-container">
<pre class="src src-sh">  <span style="color: #8892A4;"># </span><span style="color: #99968b;">Speckify Music</span>
  <span style="color: #8892A4;"># </span><span style="color: #99968b;">:= Searches all playlists in the folder; returns output to screen and out.m3u playlist.</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org453eba3" class="outline-4">
<h4 id="org453eba3"><span class="section-number-4">3.1.2.</span> Set up an internal path variable</h4>
<div class="outline-text-4" id="text-3-1-2">
<p>
This will be used to integrate speckify with metube and handle temp files generated while using this script.
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="color: #cae682;">path</span>=<span style="color: #95e454;">"$HOME/.clisuite/speckify/"</span>
<span style="color: #cae682;">pl_loc</span>=<span style="color: #95e454;">"$HOME/Music/Stream/Playlists/"</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org475fda6" class="outline-4">
<h4 id="org475fda6"><span class="section-number-4">3.1.3.</span> Help menu</h4>
<div class="outline-text-4" id="text-3-1-3">
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #cae682;">printHelp</span>(){
    <span style="color: #e5786d;">echo</span> <span style="color: #95e454;">"========SPECKIFY HELP=========="</span>
    <span style="color: #e5786d;">echo</span> <span style="color: #95e454;">"speckify &lt;option&gt; &lt;argument(s)&gt;"</span>
    <span style="color: #e5786d;">echo</span> <span style="color: #95e454;">"EXAMPLE:  speckify search \"heads carolina\""</span>
    <span style="color: #e5786d;">echo</span> <span style="color: #95e454;">"1)  &lt; -s or search &gt; &lt;\"search terms\"&gt;"</span>
    <span style="color: #e5786d;">echo</span> <span style="color: #95e454;">"2)  &lt; -c or choose &gt; &lt;line number of track title&gt;"</span>
    <span style="color: #e5786d;">echo</span> <span style="color: #95e454;">"3)  &lt; play &gt;         &lt;\"PlaylistName\"&gt;"</span>
    <span style="color: #e5786d;">echo</span> <span style="color: #95e454;">"4)  &lt; shuffle &gt;      &lt;\"PlaylistName\"&gt;"</span>
    <span style="color: #e5786d;">echo</span> <span style="color: #95e454;">"5)  &lt; library &gt;"</span>
    <span style="color: #e5786d;">echo</span> <span style="color: #95e454;">"=============================="</span>
}
</pre>
</div>
</div>
</div>

<div id="outline-container-org8c88f15" class="outline-4">
<h4 id="org8c88f15"><span class="section-number-4">3.1.4.</span> Main program</h4>
<div class="outline-text-4" id="text-3-1-4">
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #8ac6f2; font-weight: bold;">if</span> [ -z <span style="color: #95e454;">"$1"</span> ]; <span style="color: #8ac6f2; font-weight: bold;">then</span>
    printHelp
<span style="color: #8ac6f2; font-weight: bold;">elif</span> [ $<span style="color: #cae682;">1</span> == <span style="color: #95e454;">"-s"</span> ] || [ $<span style="color: #cae682;">1</span> == <span style="color: #95e454;">"search"</span> ]; <span style="color: #8ac6f2; font-weight: bold;">then</span>
    <span style="color: #e5786d;">cd</span> $<span style="color: #cae682;">pl_loc</span>
    rm msearch.m3u
    grep -i <span style="color: #95e454;">"$2"</span> *.m3u | cut -f2- -d: &gt; msearch.m3u
    cat -n msearch.m3u
<span style="color: #8ac6f2; font-weight: bold;">elif</span> [ $<span style="color: #cae682;">1</span> == <span style="color: #95e454;">"-c"</span> ] || [ $<span style="color: #cae682;">1</span> == <span style="color: #95e454;">"choose"</span> ]; <span style="color: #8ac6f2; font-weight: bold;">then</span>
    <span style="color: #e5786d;">cd</span> $<span style="color: #cae682;">pl_loc</span>
    <span style="color: #cae682;">line</span>=$<span style="color: #cae682;">2</span>
    <span style="color: #cae682;">line</span>=<span style="color: #95e454;">"${line}p"</span>
    <span style="color: #cae682;">track</span>=$(sed -n $<span style="color: #cae682;">line</span> msearch.m3u)
    mpv --no-video $<span style="color: #cae682;">track</span>
<span style="color: #8ac6f2; font-weight: bold;">elif</span> [ $<span style="color: #cae682;">1</span> == <span style="color: #95e454;">"play"</span> ]; <span style="color: #8ac6f2; font-weight: bold;">then</span>
    <span style="color: #e5786d;">cd</span> $<span style="color: #cae682;">pl_loc</span>
    <span style="color: #cae682;">list</span>=<span style="color: #95e454;">"$2"</span>
    mpv --no-video ${<span style="color: #cae682;">pl_loc</span>}${<span style="color: #cae682;">list</span>}.m3u
<span style="color: #8ac6f2; font-weight: bold;">elif</span> [ $<span style="color: #cae682;">1</span> == <span style="color: #95e454;">"shuffle"</span> ]; <span style="color: #8ac6f2; font-weight: bold;">then</span>
    <span style="color: #e5786d;">cd</span> $<span style="color: #cae682;">pl_loc</span>
    <span style="color: #cae682;">list</span>=<span style="color: #95e454;">"$2"</span>
    mpv --no-video --shuffle ${<span style="color: #cae682;">pl_loc</span>}${<span style="color: #cae682;">list</span>}.m3u
<span style="color: #8ac6f2; font-weight: bold;">elif</span> [ $<span style="color: #cae682;">1</span> == <span style="color: #95e454;">"library"</span> ]; <span style="color: #8ac6f2; font-weight: bold;">then</span>
    <span style="color: #e5786d;">cd</span> $<span style="color: #cae682;">pl_loc</span>
    ls *.m3u | cut -f1 -d. | more
<span style="color: #8ac6f2; font-weight: bold;">else</span>
    printHelp
<span style="color: #8ac6f2; font-weight: bold;">fi</span>
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-org3529a1f" class="outline-3">
<h3 id="org3529a1f"><span class="section-number-3">3.2.</span> License</h3>
<div class="outline-text-3" id="text-3-2">
</div>
<div id="outline-container-org1492152" class="outline-4">
<h4 id="org1492152"><span class="section-number-4">3.2.1.</span> GPL</h4>
<div class="outline-text-4" id="text-3-2-1">
<p target="_blank">
A copy of the license is <a href="Licenses/LICENSE.md" target="_blank">here</a>.
</p>
</div>
</div>
</div>
</div>

<div id="outline-container-org41cda59" class="outline-2">
<h2 id="org41cda59"><span class="section-number-2">4.</span> Readmode</h2>
<div class="outline-text-2" id="text-4">
</div>
<div id="outline-container-org39ec561" class="outline-3">
<h3 id="org39ec561"><span class="section-number-3">4.1.</span> Source code</h3>
<div class="outline-text-3" id="text-4-1">
</div>
<div id="outline-container-org7f99eab" class="outline-4">
<h4 id="org7f99eab"><span class="section-number-4">4.1.1.</span> Header stuff</h4>
<div class="outline-text-4" id="text-4-1-1">
<p>
The same header stuff I use to make it greppable 
</p>
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #8892A4;"># </span><span style="color: #99968b;">Read Mode</span>
<span style="color: #8892A4;"># </span><span style="color: #99968b;">:= Takes a URL as input and feeds it to Mozilla Readability.  Read in w3m.</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org4d81243" class="outline-4">
<h4 id="org4d81243"><span class="section-number-4">4.1.2.</span> Internal path for temp files</h4>
<div class="outline-text-4" id="text-4-1-2">
<div class="org-src-container">
<pre class="src src-sh"><span style="color: #cae682;">path</span>=<span style="color: #95e454;">"$HOME/.clisuite/readmode/"</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org10e05e8" class="outline-4">
<h4 id="org10e05e8"><span class="section-number-4">4.1.3.</span> Main program</h4>
<div class="outline-text-4" id="text-4-1-3">
<p>
Requires readability to be installed already.  I used JS node.
</p>
<div class="org-src-container">
<pre class="src src-sh">curl $<span style="color: #cae682;">1</span> | readability $<span style="color: #cae682;">1</span> &gt; ${<span style="color: #cae682;">path</span>}readmodetempfile.html
w3m ${<span style="color: #cae682;">path</span>}readmodetempfile.html
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-orgebac8aa" class="outline-3">
<h3 id="orgebac8aa"><span class="section-number-3">4.2.</span> License</h3>
<div class="outline-text-3" id="text-4-2">
<p>
Mozilla readability has an Apache 2.0 license, found <a href="Licenses/APACHE.md">here</a>.
</p>
</div>
</div>
</div>
<div id="outline-container-org3e6e93d" class="outline-2">
<h2 id="org3e6e93d"><span class="section-number-2">5.</span> Dependencies</h2>
<div class="outline-text-2" id="text-5">
</div>
<div id="outline-container-org53e332f" class="outline-4">
<h4 id="org53e332f"><span class="section-number-4">5.0.1.</span> MPV</h4>
<div class="outline-text-4" id="text-5-0-1">
<p target="_blank">
A lightweight, command-line video player available <a href="https://github.com/mpv-player/mpv" target="_blank">here</a>.
</p>
</div>
</div>
<div id="outline-container-org56a3a42" class="outline-4">
<h4 id="org56a3a42"><span class="section-number-4">5.0.2.</span> yt-dlp</h4>
<div class="outline-text-4" id="text-5-0-2">
<p target="_blank">
Command-line interface for interacting with YouTube and other video/audio hosted on https, available <a href="https://github.com/yt-dlp/yt-dlp" target="_blank">here</a>.
</p>
</div>
</div>
<div id="outline-container-orgbb0a2a7" class="outline-4">
<h4 id="orgbb0a2a7"><span class="section-number-4">5.0.3.</span> readability</h4>
<div class="outline-text-4" id="text-5-0-3">
<p target="_blank">
Mozilla readability for isolating body of HTML pages, installed from <a href="https://www.npmjs.com/package/readability-cli/v/2.4.0" target="_blank">here</a>.
</p>
</div>
</div>
</div>

<div id="outline-container-org9f84c8a" class="outline-2">
<h2 id="org9f84c8a"><span class="section-number-2">6.</span> Generate README.md</h2>
<div class="outline-text-2" id="text-6">
</div>
<div id="outline-container-orgf183747" class="outline-3">
<h3 id="orgf183747"><span class="section-number-3">6.1.</span> README.md</h3>
<div class="outline-text-3" id="text-6-1">
<div class="org-src-container">
<pre class="src src-text">Command Line Suite
==================

GitHub Pages: https://mitchellirmer.github.io/clisuite/

# 0.  About
These are my personal scripts that I use to improve my user experience with streamed multi-media and written content.  They are stored here as a backup for me and reference for others that want to practice scripting for regular tasks.  Should you choose to download these, know that it is at your own risk and there is no warranty of any kind.

# 1. readmode   

readmode is a script intended to remove clutter from articles opened in newsboat or w3m/lynx.  It feeds a website URL through cURL and Mozilla readability and opens in w3m.  The idea comes from here: <a href="https://tech.toryanderson.com/2021/06/09/how-to-get-readable-mode-in-emacs-w3m/&gt;  I don't use EMACS (yet(?)) and so I made it a little simpler by writing this script, calling it with an alias in my .zshrc, and adding a macro to my .newsboat/config.  See dependencies.txt for a list of required dependencies, which you must install on your own before using readmode.sh.  

# 2. metube    

metube is a replacement for the youtube https website.  It uses yt-dlp -search:N to search youtube and display the results.  You can read video descriptions and play videos directly with metube commands.  Video playback comes from mpv.  metube &quot;integrates&quot; with speckify (see #3) as a tool to create playlists.  Instead of playing one video at a time from the results, you can use metube to save video URLs and titles to .m3u playlists and export them to the speckify playlist library to playback later.  

#  3. speckify  
speckify is a streaming library user interface.  It uses mpv --no-video to stream audio from youtube or other sources.  It reads in .m3u playlist files with URL and title and searches your &quot;library&quot; of URLs to stream what you want without having to search youtube or another source first.  

# 4.  Installation:

1. Save/clone into /home/user/.clisuite/  
2. Add the following to your .zshrc or .bashrc or whatever handles your aliases.  

&gt;####### CLISUITE INSTALLATION BELOW  
alias metube='sh $HOME/.clisuite/src/metube.sh'  
alias readmode='sh $HOME/.clisuite/src/readmode.sh'  
alias speckify='sh $HOME/.clisuite/src/speckify.sh'  
#######  END CLISUITE INSTALLATION

3. To use readmode as a macro from newsboat, add this to your .newsboat/config  
">&lt;https://tech.toryanderson.com/2021/06/09/how-to-get-readable-mode-in-emacs-w3m/&gt;  I don't use EMACS (yet(?)) and so I made it a little simpler by writing this script, calling it with an alias in my .zshrc, and adding a macro to my .newsboat/config.  See dependencies.txt for a list of required dependencies, which you must install on your own before using readmode.sh.  

# 2. metube    

metube is a replacement for the youtube https website.  It uses yt-dlp -search:N to search youtube and display the results.  You can read video descriptions and play videos directly with metube commands.  Video playback comes from mpv.  metube "integrates" with speckify (see #3) as a tool to create playlists.  Instead of playing one video at a time from the results, you can use metube to save video URLs and titles to .m3u playlists and export them to the speckify playlist library to playback later.  

#  3. speckify  
speckify is a streaming library user interface.  It uses mpv --no-video to stream audio from youtube or other sources.  It reads in .m3u playlist files with URL and title and searches your "library" of URLs to stream what you want without having to search youtube or another source first.  

# 4.  Installation:

1. Save/clone into /home/user/.clisuite/  
2. Add the following to your .zshrc or .bashrc or whatever handles your aliases.  

&gt;####### CLISUITE INSTALLATION BELOW  
alias metube='sh $HOME/.clisuite/src/metube.sh'  
alias readmode='sh $HOME/.clisuite/src/readmode.sh'  
alias speckify='sh $HOME/.clisuite/src/speckify.sh'  
#######  END CLISUITE INSTALLATION

3. To use readmode as a macro from newsboat, add this to your .newsboat/config  
&gt;</a> macro r set browser "sh $HOME/.clisuite/readmode.sh" ; open-in-browser ; set browser w3m/lynx/firefox
4. By default, speckify will save playlists to $HOME/Music/Stream/Playlists/  This can be changed by updating the "pl_loc" variable in the metube.sh and speckify.sh files.     
</pre>
</div>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="author">Author: Mitchell</p>
<p class="date">Created: 2024-03-01 Fri 15:48</p>
<p class="validation"><a href="https://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>
